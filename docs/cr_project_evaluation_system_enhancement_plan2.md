제안해주신 1, 2, 3안의 핵심 강점을 모두 흡수하여, \*\*단일하고 일관성 있는 \[CR 프로젝트 평가 시스템 고도화 마스터플랜\]\*\*을 확정했습니다.

이 문서는 AI가 단순히 글을 쓰는 것을 넘어, \*\*'정확한 진단'\*\*과 \*\*'엄밀한 규범 적용'\*\*을 수행하도록 백엔드 아키텍처를 전면 재설계하는 실행 가이드입니다. 개발자(또는 본인)는 이 문서를 기준으로 즉시 구현에 착수하시면 됩니다.

# ---

**\[CR 프로젝트\] 평가 시스템 고도화 및 아키텍처 재설계 마스터플랜**

## **1\. 프로젝트 비전 및 목표**

**"시민 독자에게 가장 신뢰할 수 있는 미디어 비평 리포트를 제공한다."**

현재의 CR 시스템은 단순한 기사 요약을 넘어, 언론 윤리 위반 사항을 날카롭게 포착하고 명확한 근거(윤리규범 조항)를 제시해야 합니다. 이를 위해 AI의 창작 개입을 최소화하고, 시스템이 통제하는 **'증거 기반 분석(Evidence-Based Analysis)'** 체계로 전환합니다.

## ---

**2\. 핵심 아키텍처: "이중 레이어 (Two-Layer) 전략"**

기존의 서술형 평가 기준을 통째로 AI에게 던져주는 방식을 폐기합니다. 대신 \*\*진단(Diagnosis)\*\*과 \*\*근거(Evidence)\*\*를 구조적으로 분리하여 운영합니다.

### **Layer 1\. 탐지 레이어 (The Detective)**

* **역할:** 기사를 읽고 문제적 징후(Red Flag)를 발견하여 체크리스트의 항목을 선택(True/False)하는 역할.  
* **특징:** 이 단계에서는 AI가 윤리규범을 서술하거나 평가 리포트를 쓰지 않습니다. 오직 \*\*"문제 식별 ID"\*\*와 기사 본문 내 \*\*"증거 문장"\*\*만 추출합니다.

### **Layer 2\. 인용 레이어 (The Lawyer)**

* **역할:** 탐지된 문제 ID에 매핑된 \*\*'실제 언론윤리규범 텍스트'\*\*를 시스템이 자동으로 불러옵니다.  
* **특징:** AI의 환각(Hallucination)을 원천 차단하기 위해, 윤리규범 조항은 AI가 생성하는 것이 아니라 **DB(JSON 파일)에서 있는 그대로 인용**합니다.

## ---

**3\. 데이터 구조화 전략 (File-Based System)**

별도의 벡터 DB(MongoDB 등) 구축 없이, 유지보수가 용이하고 속도가 빠른 **로컬 JSON 파일 시스템**을 구축합니다.

### **A. 진단 체크리스트 (criteria\_checklist.json)**

AI가 기사를 분석할 때 사용하는 '질문지'입니다. 모호한 기준을 구체적인 탐지 키워드와 질문으로 세분화합니다.

JSON

\[  
  {  
    "id": "1-1-1",  
    "category": "진실성과 정확성",  
    "issue\_name": "사실 검증 부실",  
    "diagnostic\_questions": \[  
      "이 기사는 익명 취재원이나 단일 취재원의 주장을 검증 없이 전달하고 있는가?",  
      "이해관계가 대립하는 사안에서 반론이나 해명 기회가 보장되었는가?"  
    \],  
    "red\_flags": \["관계자에 따르면", "전해졌다", "알려졌다", "커뮤니티 반응"\],   
    "severity\_score": 5,  
    "mapped\_ethics\_ids": \["code\_01\_03", "code\_05\_02"\]   
  }  
\]

* **Red Flags:** 3번 안의 아이디어를 채택하여, AI가 특정 패턴을 더 민감하게 감지하도록 돕습니다.  
* **Mapped Ethics IDs:** 해당 문제가 발견되면 자동으로 소환할 규범의 ID입니다.

### **B. 윤리규범 라이브러리 (ethics\_library.json)**

리포트에 출력될 '불변의 근거'입니다.

JSON

{  
  "code\_01\_03": {  
    "source": "신문윤리실천요강",  
    "article": "제3조 2항(확인보도 원칙)",  
    "text": "보도 기사의 사실 여부는 확인되어야 하며, 확인되지 않은 사실을 보도할 때는..."  
  }  
}

## ---

**4\. 시스템 워크플로우 (Logic Flow)**

백엔드(analyzer.py)의 처리 로직은 다음 순서로 엄격하게 통제됩니다.

1. **입력 (Input):** 사용자가 뉴스 기사 URL 또는 전문을 입력.  
2. **1차 분석 (Detection Phase):**  
   * AI에게 criteria\_checklist.json의 질문 목록과 기사를 제공.  
   * **프롬프트 지시:** "이 기사에서 위 체크리스트에 해당하는 항목을 찾고, 그 근거가 되는 기사 속 문장을 발췌하라. (출력: JSON)"  
   * **결과:** Detected Issues List (예: ID 1-1-1 감지됨)  
3. **데이터 매핑 (System Logic):**  
   * 시스템(Python 코드)이 감지된 ID(1-1-1)를 보고, ethics\_library.json에서 연결된 윤리규범 텍스트(code\_01\_03)를 가져옴.  
4. **2차 생성 (Reporting Phase):**  
   * AI에게 다음 3가지를 제공.  
     1. 기사 원문  
     2. 1차 분석 결과 (감지된 문제 \+ 증거 문장)  
     3. **시스템이 가져온 윤리규범 텍스트 (Raw Text)**  
   * **프롬프트 지시:** "당신은 미디어 비평가입니다. 위에서 탐지된 문제점과 제공된 윤리규범 텍스트를 정확히 인용하여, 독자를 위한 리포트를 작성하시오."  
5. **출력 (Output):** 최종 평가 리포트 (종합/기자용/학생용).

## ---

**5\. 구현 로드맵 (Action Items)**

개발자는 아래 순서대로 작업을 진행합니다.

### **Step 1: 데이터 마이그레이션 (Data Migration)**

* **작업:** 현재의 current-criteria\_v2_active.md 파일을 분석하여, 위에서 정의한 criteria\_checklist.json과 ethics\_library.json 두 개의 파일로 쪼개어 작성합니다.  
* **핵심:** '서술형 설명'은 과감히 줄이고, AI가 판단할 수 있는 '질문(Question)' 형태로 변환하는 것이 중요합니다.

### **Step 2: 백엔드 로직 수정 (Backend Refactoring)**

* **파일:** backend/criteria\_manager.py  
  * 기존 마크다운 로더를 제거하고 JSON 로더(load\_checklist, load\_ethics)를 구현합니다.  
  * ID를 기반으로 윤리규범 텍스트를 병합(Merge)해주는 헬퍼 함수를 작성합니다.  
* **파일:** backend/analyzer.py  
  * 단일 호출 방식을 detect\_issues() → generate\_report()의 2단계 호출 구조로 변경합니다. (LangChain이나 단순 API 호출 분리 사용)

### **Step 3: 프롬프트 최적화 (Prompt Tuning)**

* 1차 분석용 프롬프트는 최대한 '건조하고 기계적으로' 작성하여 탐지율을 높입니다.  
* 2차 생성용 프롬프트는 '윤리규범의 문구를 변형하지 말고 그대로 인용할 것'을 강력하게 지시(System Prompt)합니다.

## ---

**6\. 기대 효과 및 성공 지표**

이 설계를 통해 CR 프로젝트는 다음과 같은 퀄리티를 보장할 수 있습니다.

1. **인용 정확도 100%:** AI가 없는 말을 지어내거나(Hallucination), 윤리규범을 왜곡할 가능성이 사라집니다. (DB에서 직접 가져오기 때문)  
2. **분석의 일관성:** 체크리스트 기반으로 분석하므로, 같은 기사에 대해서는 항상 유사한 진단 결과가 나옵니다.  
3. **확장성:** 향후 새로운 유형의 보도 관행(예: 유튜브 썸네일 낚시)이 발견되면, criteria\_checklist.json에 항목만 추가하면 됩니다.

**지금 바로 current-criteria\_v2_active.md를 열고 JSON 변환 작업을 시작하십시오.** 이것이 고도화의 첫걸음입니다.
